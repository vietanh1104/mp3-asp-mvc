@{
    var data = ViewBag.Data;
    ViewData["Title"] = "Tìm kiếm";
    int type = (int)(ViewData["Type"] ?? 0);
    var nextPageEnable = data.Page == data.TotalPage ? "disabled" : "";
    var previousPageBtnEnable = data.Page > 1 ? "" : "disabled";
    var previousPageLink = $"/home/search?type={ViewData["Type"]}&searchText={ViewData["searchText"]}&page={data.Page - 1}";
    var nextPageLink = $"/home/search?type={ViewData["Type"]}&searchText={ViewData["searchText"]}&page={data.Page + 1}";
    var changePreviousPageLink = $"/home/search?type={ViewData["Type"]}&searchText={ViewData["searchText"]}&page=1";
    var changeNextPageLink = $"/home/search?type={ViewData["Type"]}&searchText={ViewData["searchText"]}&page=1";
    var musicSideBarStyle = type == 0 ? "side-bar-active" : "";
    var authorSideBarStyle = type == 1 ? "side-bar-active" : "";
    var categorySideBarStyle = type == 2 ? "side-bar-active" : "";
    var itemsList = data.Items as List<App.Domain.Entities.Media>;
    var authorList = (List<AuthorSearchItemViewModel>) ViewData["AuthorList"];
    ViewData["SelectHome"] = "active";
}

<title> Mine Music - Tìm kiếm</title>
<head>
    <link rel="stylesheet" href="~/css/Home.css" asp-append-version="true" />
</head>


<div class="col-10" style=" height: 53vh;">
    <div>
        @if (ViewData["searchText"] != null && !string.IsNullOrWhiteSpace(ViewData["searchText"].ToString()))
        {
            <h3 style="text-align:center; color: white">Kết quả tìm kiếm: @ViewData["searchText"]</h3>
        }
        @if (data.TotalItems > 0 || authorList.Count() > 0)
        {
            if(data.TotalItems > 0){
                     <!-- Bài hát -->
                <div class="d-flex justify-content-between align-items-center mt-4">
                    <h4 class="mb-0">Bài hát </h4>
                </div>
                <div class="card-list-container d-flex justify-content-center">
                    @foreach (var item in itemsList.Take(5))
                    {
                        <partial name="./Common/Media/_musicCardTemplatePartial" model=@item />
                    }
                </div>
                
            }

            if(authorList.Count() > 0)
            {     <!-- Bài hát -->
                <div class="d-flex justify-content-between align-items-center mt-4">
                    <h4 class="mb-0">Ca sĩ </h4>
                </div>
                <div class="row favorite-artists">

                    <div class="row favorite-songs">

                        <partial name="./Common/Media/Carousel/_SlideslArtistPartial" model="authorList" />

                </div>

            </div>
            }

        }
        else
        {
            <div style="text-align:center; color: white">Không tìm thấy kết quả nào</div>
        }
    </div>
</div>

<!-- Custom CSS -->
<style>
    .content-right {
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .right-all {
        font-size: 16px;
        background-color: white;
        padding: 10px;
        border-radius: 20px;
    }

    .right-music {
        font-size: 16px;
        color: white;
    }

    .right-all, .right-music {
        padding: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

        .right-all:hover, .right-music:hover {
            color: #1DB954;
        }

    .page-link {
        width: 120px;
        text-align: center;
    }

    .page-number {
        width: auto;
        text-align: center;
    }

    a.disabled {
        pointer-events: none;
        cursor: default;
        color: gray;
    }

    .side-bar a {
        background-color: white;
        margin: 1px;
        border-radius: 4px;
        border: 1px solid black;
    }

    .side-bar-active {
        background-color: #9747FF !important;
    }
</style>
